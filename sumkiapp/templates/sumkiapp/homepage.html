{% extends 'sumkiapp/header.html' %}
{% block title %} Каталог {% endblock %}
{% block description %}testin{% endblock %}
{% load static %}


{% block content %}
<script src="{% static 'sumkiapp/js/jq.js' %}"></script>
	  <br>

	 <div class="container-fluid d-none d-lg-block ">
<div id="carouselExampleFade" class="carousel slide carousel-fade " data-ride="carousel" data-interval='5000'>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-100" src="{% static 'sumkiapp/sample slider.png' %}" width="1000" height="600">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="{% static 'sumkiapp/sample slider.png' %}" width="1000" height="600">
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="{% static 'sumkiapp/sample slider.png' %}" width="1000" height="600">
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only"></span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only"></span>
  </a>
</div>
</div>

<br>
  <div class="container-fluid">
  <div class="row" id='scroll-element'>
    {% include "sumkiapp/_products.html" with products=products %}
  </div>
  </div>

    <div class="center" id='kill'>
        <button class="btn btn-outline-dark" type="button" onclick="myFunction()">СМОТРЕТЬ ВЕСЬ КАТАЛОГ
        </button>
     </div>


  <div id="sentinel">.</div>

<script>

  function myFunction() {
    document.addEventListener("click", () => {
      let bottomSentinel = document.querySelector("#sentinel");
      let scrollElement = document.querySelector("#scroll-element");
      let baseUrl = "{% url 'sumkiapp:homepage' %}";
      attachInfiniteScroll(bottomSentinel, scrollElement, baseUrl);
      var myobj = document.getElementById("kill");
      myobj.remove();
  })
}
</script>
{% endblock %}